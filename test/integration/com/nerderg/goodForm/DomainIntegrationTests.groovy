package com.nerderg.goodForm

import org.junit.After
import org.junit.Before
import org.junit.Test

class DomainIntegrationTests extends AbstractIntegrationTest {

    @Before
    void setUp() {
        super.setUp()
    }

    @After
    void tearDown() {
    }

    @Test
    void testDSLFieldSize() {
        FormDefinition formDefinition = new FormDefinition(name: 'test')
        assert formDefinition.save()

        String thousandChar = "1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890" +
                "1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890" +
                "1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890" +
                "1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890" +
                "1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890" +
                "1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890" +
                "1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890" +
                "1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890" +
                "1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890" +
                "1234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890"

        FormVersion formVersion = new FormVersion(formVersionNumber: 1, formDefinitionDSL: thousandChar, formDefinition: formDefinition)

        formDefinition.addToFormVersions(formVersion)

        assert formVersion.save()

    }
}
